(this["webpackJsonpbelajar-react"]=this["webpackJsonpbelajar-react"]||[]).push([[0],{41:function(e,a,t){},67:function(e,a,t){"use strict";t.r(a);var n=t(1),s=t.n(n),r=t(34),l=t.n(r),c=(t(41),t(15)),i=t(2),u=t(4),o=t.n(u),d=t(12),b=t(8),p=t(13),j=t.n(p),h=t(11),m=t.n(h),x=t(0);function g(){return Object(x.jsx)(s.a.Fragment,{children:Object(x.jsx)("div",{className:"animate-pulse px-10",children:Object(x.jsx)("div",{className:"mt-5 bg-blue-200 h-52 py-5 pl-5 pr-72 w-full",children:Object(x.jsx)("div",{className:"bg-blue-300 h-full"})})})})}function k(e){var a=function(){var a=Object(d.a)(o.a.mark((function a(t){var n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n="https://api-react-2.herokuapp.com/api/perpustakaan/".concat(t,"?kode=2402"),console.log(t),a.prev=2,a.next=5,j.a.delete(n);case 5:e.getArtikel(),a.next=12;break;case 8:a.prev=8,a.t0=a.catch(2),m()("gagal","gagal dihapus","warning"),console.log(a.t0);case 12:case"end":return a.stop()}}),a,null,[[2,8]])})));return function(e){return a.apply(this,arguments)}}();return Object(x.jsx)(s.a.Fragment,{children:Object(x.jsx)("div",{className:"flex justify-center items-center px-10 my-5",children:Object(x.jsx)("div",{className:"bg-gray-100 shadow-lg w-full px-7 py-3 my-4",children:Object(x.jsxs)("div",{className:"flex",children:[Object(x.jsx)("div",{className:"mt-5",children:Object(x.jsx)("img",{className:"h-40",src:e.cover,alt:""})}),Object(x.jsxs)("div",{className:"ml-9",children:[Object(x.jsx)("h2",{className:"text-2xl font-semibold mb-4 capitalize",children:e.judul}),Object(x.jsx)("p",{className:"text-xl mb-2 text-gray-500 capitalize",children:e.penulis}),Object(x.jsx)("p",{className:"text-lg capitalize",children:e.penerbit}),Object(x.jsxs)("p",{className:"text-sm capitalize",children:["tahun ",e.tahun,", ",e.hal," halaman"]}),Object(x.jsxs)("div",{className:"flex  py-6",children:[Object(x.jsx)("svg",{onClick:function(){m()({title:"Are you sure?",text:"ingin menghapus file",icon:"warning",buttons:!0,dangerMode:!0}).then((function(t){t?a(e.id):m()("Your imaginary file is safe!")}))},xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2 hover:text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Object(x.jsx)(c.b,{to:"/update/".concat(e.id),children:Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 hover:text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]})]})]})})})})}function O(){return Object(x.jsx)(s.a.Fragment,{children:Object(x.jsxs)("div",{className:"h-40 px-11 py-20 w-full grid grid-cols-1 gap-2 bg-blue-600",children:[Object(x.jsx)("input",{type:"text",className:"h-12 pl-16 rounded-md outline-none",name:"",id:"",placeholder:"Cari..."}),Object(x.jsx)("div",{className:"relative left-4 w-min bottom-11",children:Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(x.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})})}function v(){var e=s.a.useState([]),a=Object(b.a)(e,2),t=a[0],n=a[1],r=s.a.useState(!1),l=Object(b.a)(r,2),i=l[0],u=l[1],p=function(){var e=Object(d.a)(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),"https://api-react-2.herokuapp.com/api/perpustakaan?keyword=&per_page=100&page_size&kode=2402",e.prev=2,e.next=5,j.a.get("https://api-react-2.herokuapp.com/api/perpustakaan?keyword=&per_page=100&page_size&kode=2402");case 5:a=e.sent,console.log(a.data.data.data),n(a.data.data.data),u(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0),u(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();return s.a.useEffect((function(){p()}),[]),Object(x.jsx)("div",{className:"h-screen w-full flex justify-center overflow-auto bg-gray-300",children:Object(x.jsxs)("div",{className:"w-full md:w-2/5 lg:w-2/5 bg-white overflow-auto",children:[Object(x.jsx)(O,{}),Object(x.jsx)("h1",{className:"font-semibold text-3xl ml-11 mt-8",children:"List Buku"}),i?Object(x.jsxs)(s.a.Fragment,{children:[Object(x.jsx)(g,{}),Object(x.jsx)(g,{}),Object(x.jsx)(g,{}),Object(x.jsx)(g,{}),Object(x.jsx)(g,{}),Object(x.jsx)(g,{}),Object(x.jsx)(g,{})]}):null===t||void 0===t?void 0:t.map((function(e,a){return Object(x.jsx)(k,{id:e.id,judul:e.judul_buku,penulis:e.nama_pengarang,penerbit:e.nama_penerbit_buku,tahun:e.tahun_terbit_buku,hal:e.ketebalan_buku,cover:e.cover,getArtikel:p},a)})),Object(x.jsx)("div",{style:{bottom:"10%"},className:"fixed px-7",children:Object(x.jsx)(c.c,{to:"/tambah-buku",className:"text-center ri pt-2 fixed rounded-full h-14 w-14 text-white text-3xl bg-blue-600 capitalize ",children:"+"})})]})})}var _=t(16),f=t(10);function w(){var e=Object(i.f)(),a=s.a.useState(""),t=Object(b.a)(a,2),n=t[0],r=t[1],l=s.a.useState(!1),c=Object(b.a)(l,2),u=c[0],p=c[1],h=s.a.useState({kode_penulis:"2402",judul_buku:"",nama_pengarang:"",nama_penerbit_buku:"",ketebalan_buku:"",tahun_terbit_buku:"",sinopsis:"",cover:""}),g=Object(b.a)(h,2),k=g[0],O=g[1],v=s.a.useState({kode_penulis:"",judul_buku:"",nama_pengarang:"",nama_penerbit_buku:"",ketebalan_buku:"",tahun_terbit_buku:"",sinopsis:"",cover:""}),w=Object(b.a)(v,2),N=w[0],y=(w[1],function(e){var a=e.target.name,t=e.target.value;O((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(_.a)({},a,t))})),"judul_buku"===a&&(N.judul_buku=""===t?"tidak boleh kosong":""),"nama_pengarang"===a&&(N.nama_pengarang=""===t?"tidak boleh kosong":""),"nama_penerbit_buku"===a&&(N.nama_penerbit_buku=""===t?"tidak boleh kosong":""),"tahun_terbit_buku"===a&&(N.tahun_terbit_buku=""===t?"tidak boleh kosong":""),"ketebalan_buku"===a&&(N.ketebalan_buku=""===t?"tidak boleh kosong":""),"sinopsis"===a&&(N.sinopsis=""===t?"tidak boleh kosong":""),"kode_penulis"===a&&(N.kode_penulis=""===t?"tidak boleh kosong":"")});console.log(k);var z=function(){var a=Object(d.a)(o.a.mark((function a(t){var n,s;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),"https://api-react-2.herokuapp.com/api/perpustakaan",(n=new FormData).append("kode_penulis",k.kode_penulis),n.append("judul_buku",k.judul_buku),n.append("nama_pengarang",k.nama_pengarang),n.append("nama_penerbit_buku",k.nama_penerbit_buku),n.append("ketebalan_buku",k.ketebalan_buku),n.append("tahun_terbit_buku",k.tahun_terbit_buku),n.append("sinopsis",k.sinopsis),n.append("cover",k.cover),p(!0),a.prev=12,a.next=15,j.a.post("https://api-react-2.herokuapp.com/api/perpustakaan",n,{headers:{"Content-Type":"multipart/form-data "}});case 15:s=a.sent,m()("Berhasil","Data telah disimpan","success"),e.goBack("/"),console.log(s),p(!1),a.next=27;break;case 22:a.prev=22,a.t0=a.catch(12),m()("Ups","Terjadi kesalahan saat menyimpan","error"),p(!1),console.log("error");case 27:case"end":return a.stop()}}),a,null,[[12,22]])})));return function(e){return a.apply(this,arguments)}}();return Object(x.jsx)(s.a.Fragment,{children:Object(x.jsx)("div",{className:"h-screen w-full flex justify-center bg-gray-600",children:Object(x.jsxs)("div",{className:"w-full md:w-2/5 lg:w-2/5 bg-white ",children:[Object(x.jsxs)("div",{className:"h-40 px-11 py-20 w-full grid grid-cols-1 gap-2 bg-blue-600",children:[Object(x.jsx)("div",{children:Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:Object(x.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})})}),Object(x.jsx)("h1",{className:"text-3xl capitalize text-center text-white font-semibold relative bottom-10",children:"tambah buku"})]}),Object(x.jsxs)("form",{onSubmit:z,autoComplete:"off",action:"post",className:"px-8 py-10 capitalize",children:[Object(x.jsxs)("div",{className:"grid gap-1 mb-11",children:[Object(x.jsx)("label",{htmlFor:"judul",children:"Judul Buku"}),Object(x.jsx)("input",{onChange:y,value:k.judul_buku,name:"judul_buku",className:"border py-2 rounded-lg shadow-md outline-none",type:"text"}),Object(x.jsx)("p",{className:"text-red-500 capitalize",children:N.judul_buku})]}),Object(x.jsxs)("div",{className:"grid gap-1 mb-11",children:[Object(x.jsx)("label",{htmlFor:"penulis",children:"penulis"}),Object(x.jsx)("input",{onChange:y,value:k.nama_pengarang,name:"nama_pengarang",className:"border py-2 rounded-lg shadow-md outline-none",type:"text"}),Object(x.jsx)("p",{className:"text-red-500 capitalize",children:N.nama_pengarang})]}),Object(x.jsxs)("div",{className:"grid gap-1 mb-11",children:[Object(x.jsx)("label",{htmlFor:"penerbit",children:"penerbit "}),Object(x.jsx)("input",{onChange:y,value:k.nama_penerbit_buku,name:"nama_penerbit_buku",className:"border py-2 rounded-lg shadow-md outline-none",type:"text"}),Object(x.jsx)("p",{className:"text-red-500 capitalize",children:N.nama_penerbit_buku})]}),Object(x.jsxs)("div",{className:"grid gap-1 mb-11",children:[Object(x.jsx)("label",{htmlFor:"tahun terbit",children:"tahun terbit"}),Object(x.jsx)("input",{onChange:y,value:k.tahun_terbit_buku,name:"tahun_terbit_buku",className:"border py-2 rounded-lg shadow-md outline-none",type:"number"}),Object(x.jsx)("p",{className:"text-red-500 capitalize",children:N.tahun_terbit_buku})]}),Object(x.jsxs)("div",{className:"grid gap-1 mb-11",children:[Object(x.jsx)("label",{htmlFor:"banyakHalaman",children:"banyak halaman"}),Object(x.jsx)("input",{onChange:y,value:k.ketebalan_buku,name:"ketebalan_buku",className:"border py-2 rounded-lg shadow-md outline-none",type:"number"}),Object(x.jsx)("p",{className:"text-red-500 capitalize",children:N.ketebalan_buku})]}),Object(x.jsxs)("div",{className:"grid gap-1 mb-11",children:[Object(x.jsx)("label",{htmlFor:"sinopsis",children:"sinopsis"}),Object(x.jsx)("textarea",{onChange:y,value:k.sinopsis,className:"outline-none rounded-md border shadow-md",name:"sinopsis",id:"",cols:"30",rows:"10"}),Object(x.jsx)("p",{className:"text-red-500 capitalize",children:N.sinopsis})]}),Object(x.jsxs)("div",{className:"grid gap-1 mb-11",children:[Object(x.jsx)("label",{htmlFor:"cover",children:"cover buku"}),Object(x.jsx)("input",{onChange:function(e){var a=new FileReader;O((function(a){return Object(f.a)(Object(f.a)({},a),{},{cover:e.target.files[0]})})),a.onloadend=function(){2===a.readyState&&r(a.result)},a.readAsDataURL(e.target.files[0])},name:"cover",className:"border py-2 rounded-lg shadow-md outline-none",type:"file"}),Object(x.jsx)("img",{className:"h-72 my-6",src:n,alt:""})]}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{type:"submit",style:{width:"100%"},className:"capitalize py-2 text-white bg-blue-600",children:u?"loading...":"upload"})})]})]})})})}function N(){var e=s.a.useState(""),a=Object(b.a)(e,2),t=a[0],n=a[1],r=s.a.useState(!1),l=Object(b.a)(r,2),c=l[0],u=l[1],p=s.a.useState({kode_penulis:"2402",judul_buku:"",nama_pengarang:"",nama_penerbit_buku:"",ketebalan_buku:"",tahun_terbit_buku:"",sinopsis:"",cover:""}),h=Object(b.a)(p,2),g=h[0],k=h[1],O=s.a.useState({kode_penulis:"2402",judul_buku:"",nama_pengarang:"",nama_penerbit_buku:"",ketebalan_buku:"",tahun_terbit_buku:"",sinopsis:"",cover:""}),v=Object(b.a)(O,2),w=v[0],N=(v[1],Object(i.g)().id);console.log({id:N});var y=Object(i.f)(),z=function(){var e=Object(d.a)(o.a.mark((function e(){var a,t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api-react-2.herokuapp.com/api/perpustakaan/".concat(N,"?kode=2402"),e.prev=1,e.next=4,j.a.get(a);case 4:t=e.sent,k((function(e){return Object(f.a)(Object(f.a)({},e),{},{judul_buku:t.data.data.judul_buku,kode_penulis:t.data.data.kode_penulis,ketebalan_buku:t.data.data.ketebalan_buku,cover:t.data.data.cover,nama_penerbit_buku:t.data.data.nama_penerbit_buku,nama_pengarang:t.data.data.nama_pengarang,sinopsis:t.data.data.sinopsis,tahun_terbit_buku:t.data.data.tahun_terbit_buku})})),n(t.data.data.cover),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("ada masalah",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),C=function(e){var a=e.target.name,t=e.target.value;k((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(_.a)({},a,t))})),"judul"===a&&(w.judul=""===t?"Judul Tidak Boleh Kosong":""),"artikel"===a&&(""===t?w.artikel="Artikel Tidak Boleh Kosong":t.replace(/\s/g,"").length<10?w.artikel="Isi Artikel terlalu Sedikit":w.artikel="")};console.log(g);var F=function(){var e=Object(d.a)(o.a.mark((function e(a){var t,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t="https://api-react-2.herokuapp.com/api/perpustakaan/".concat(N,"?kode=2402"),console.log(t),(n=new FormData).append("judul_buku",g.judul_buku),n.append("tahun_terbit_buku",g.tahun_terbit_buku),n.append("sinopsis",g.sinopsis),n.append("kode_penulis",g.kode_penulis),n.append("nama_pengarang",g.nama_pengarang),n.append("nama_penerbit_buku",g.nama_penerbit_buku),n.append("ketebalan_buku",g.ketebalan_buku),n.append("cover",g.cover),n.append("_method","put"),u(!0),e.prev=14,e.next=17,j.a.post(t,n,{headers:{"Content-Type":"multipart/form-data "}});case 17:s=e.sent,m()("Berhasil","Data berhasil diupdate","success"),console.log(s),u(!1),y.goBack("/"),e.next=29;break;case 24:e.prev=24,e.t0=e.catch(14),m()("Ups","Terjadi kesalahan saat menyimpan","error"),u(!1),console.log("error");case 29:case"end":return e.stop()}}),e,null,[[14,24]])})));return function(a){return e.apply(this,arguments)}}();return s.a.useEffect((function(){z()}),[]),Object(x.jsx)(s.a.Fragment,{children:Object(x.jsx)("div",{className:"h-screen w-full flex justify-center bg-gray-300",children:Object(x.jsxs)("div",{className:"w-full md:w-2/5 lg:w-2/5 bg-white overflow-auto",children:[Object(x.jsxs)("div",{className:"h-40 px-11 py-20 w-full grid grid-cols-1 gap-2 bg-blue-600",children:[Object(x.jsx)("div",{children:Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:Object(x.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})})}),Object(x.jsx)("h1",{className:"text-3xl capitalize text-center text-white font-semibold relative bottom-10",children:"update buku"})]}),Object(x.jsxs)("form",{onSubmit:F,autoComplete:"off",action:"post",className:"px-8 py-10 capitalize",children:[Object(x.jsxs)("div",{className:"grid gap-1 mb-11",children:[Object(x.jsx)("label",{htmlFor:"judul",children:"Judul Buku"}),Object(x.jsx)("input",{onChange:C,value:g.judul_buku,name:"judul_buku",className:"border py-2 rounded-lg shadow-md outline-none",type:"text"}),Object(x.jsx)("p",{className:"text-red-500 capitalize",children:w.judul_buku})]}),Object(x.jsxs)("div",{className:"grid gap-1 mb-11",children:[Object(x.jsx)("label",{htmlFor:"penulis",children:"penulis"}),Object(x.jsx)("input",{onChange:C,value:g.nama_pengarang,name:"nama_pengarang",className:"border py-2 rounded-lg shadow-md outline-none",type:"text"}),Object(x.jsx)("p",{className:"text-red-500 capitalize",children:w.nama_pengarang})]}),Object(x.jsxs)("div",{className:"grid gap-1 mb-11",children:[Object(x.jsx)("label",{htmlFor:"penerbit",children:"penerbit "}),Object(x.jsx)("input",{onChange:C,value:g.nama_penerbit_buku,name:"nama_penerbit_buku",className:"border py-2 rounded-lg shadow-md outline-none",type:"text"}),Object(x.jsx)("p",{className:"text-red-500 capitalize",children:w.nama_penerbit_buku})]}),Object(x.jsxs)("div",{className:"grid gap-1 mb-11",children:[Object(x.jsx)("label",{htmlFor:"tahun terbit",children:"tahun terbit"}),Object(x.jsx)("input",{onChange:C,value:g.tahun_terbit_buku,name:"tahun_terbit_buku",className:"border py-2 rounded-lg shadow-md outline-none",type:"number"}),Object(x.jsx)("p",{className:"text-red-500 capitalize",children:w.tahun_terbit_buku})]}),Object(x.jsxs)("div",{className:"grid gap-1 mb-11",children:[Object(x.jsx)("label",{htmlFor:"banyakHalaman",children:"banyak halaman"}),Object(x.jsx)("input",{onChange:C,value:g.ketebalan_buku,name:"ketebalan_buku",className:"border py-2 rounded-lg shadow-md outline-none",type:"number"}),Object(x.jsx)("p",{className:"text-red-500 capitalize",children:w.ketebalan_buku})]}),Object(x.jsxs)("div",{className:"grid gap-1 mb-11",children:[Object(x.jsx)("label",{htmlFor:"sinopsis",children:"sinopsis"}),Object(x.jsx)("textarea",{onChange:C,value:g.sinopsis,className:"outline-none rounded-md border shadow-md",name:"sinopsis",id:"",cols:"30",rows:"10"}),Object(x.jsx)("p",{className:"text-red-500 capitalize",children:w.sinopsis})]}),Object(x.jsxs)("div",{className:"grid gap-1 mb-11",children:[Object(x.jsx)("label",{htmlFor:"cover",children:"cover buku"}),Object(x.jsx)("input",{onChange:function(e){e.preventDefault();var a=new FileReader;k((function(a){return Object(f.a)(Object(f.a)({},a),{},{thumbnail:e.target.files[0]})})),a.onloadend=function(){2===a.readyState&&n(a.result)},a.readAsDataURL(e.target.files[0])},name:"cover",className:"border py-2 rounded-lg shadow-md outline-none",type:"file"}),Object(x.jsx)("img",{className:"h-72 my-6",src:t,alt:""})]}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{type:"submit",style:{width:"100%"},className:"capitalize py-2 text-white bg-blue-600",children:c?"loading...":"upload"})})]})]})})})}var y=function(){return Object(x.jsx)(c.a,{children:Object(x.jsxs)(i.c,{children:[Object(x.jsx)(i.a,{path:"/",exact:!0,children:Object(x.jsx)(v,{})}),Object(x.jsx)(i.a,{path:"/update/:id",children:Object(x.jsx)(N,{})}),Object(x.jsx)(i.a,{path:"/tambah-buku/",children:Object(x.jsx)(w,{})})]})})},z=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,68)).then((function(a){var t=a.getCLS,n=a.getFID,s=a.getFCP,r=a.getLCP,l=a.getTTFB;t(e),n(e),s(e),r(e),l(e)}))};l.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(y,{})}),document.getElementById("root")),z()}},[[67,1,2]]]);
//# sourceMappingURL=main.483d4fb1.chunk.js.map